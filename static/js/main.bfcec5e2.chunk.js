(this["webpackJsonpcheck-out"]=this["webpackJsonpcheck-out"]||[]).push([[0],{69:function(e,t,c){},70:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(0),r=c(6),i=c.n(r),o=c(34),s=(c(69),c(23)),d=c(51),l=c(52),u=c(21),j="UPDATE_PRODUCT",p={allProducts:[{id:1,name:"Apple",price:30,offer:{count:2,price:45}},{id:2,name:"Banana",price:50,offer:{count:3,price:130}},{id:3,name:"Peach",price:60},{id:4,name:"Kiwi",price:20}]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var c=e.allProducts.map((function(e){return e.id===t.payload.id?t.payload:e}));return Object(u.a)(Object(u.a)({},e),{},{allProducts:c});default:return e}},f=l.a(),h=s.d.apply(void 0,[Object(s.a)(d.a)].concat([])),x=Object(s.e)(Object(s.c)({product:b}),{},h),O=c(106),m=(c(70),c(71),c(55)),g=c(8),v=c(18),N=c(105),y=c(104),P=c(53),w=c(108),C=function(){return Object(o.c)((function(e){return e.product.allProducts}))},k=function(){var e=Object(o.b)();return function(t){return e(function(e){return function(t){t({type:j,payload:e})}}(t))}},S=c(101),I=Object(S.a)({wrapper:{padding:"30px 15px",maxWidth:400},header:{"& h2":{margin:0}},body:{padding:"0 15px","& .head":{display:"flex",fontWeight:"bold","& .no":{paddingRight:10},"& .name":{fontSize:15,flex:1},"& .price":{fontSize:15}}},product:{display:"flex",alignItems:"center",margin:"5px 0","& .no":{paddingRight:10,minWidth:30},"& .name":{fontSize:15,flex:1},"& .action":{fontSize:10,padding:"0px 5px"}},footer:{margin:"10px 0",display:"flex",alignItems:"center",fontWeight:"bold","& .label":{marginRight:10},"& .price":{flex:1,marginRight:10,fontSize:17,textAlign:"right"}}}),R=function(e){var t=e.products,c=e.setProducts,r=I(),i=C(),o=Object(a.useState)(0),s=Object(v.a)(o,2),d=s[0],l=s[1],j=Object(a.useCallback)((function(e){return i.find((function(t){return t.id===e}))}),[i]);Object(a.useEffect)((function(){var e,c=0,n=[],a=[],r=Object(P.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.includes(i.productId)||n.push(i.productId)}}catch(o){r.e(o)}finally{r.f()}n.forEach((function(e){a.push(Object(u.a)(Object(u.a)({},j(e)),{},{count:t.filter((function(t){return t.productId===e})).length}))})),a.forEach((function(e){var t=0;t=e.offer?e.offer.price*Math.floor(e.count/e.offer.count)+e.count%e.offer.count*e.price:e.price*e.count,c+=t})),l(c)}),[t,j]);var p=Object(a.useCallback)((function(e){c(t.filter((function(t,c){return e!==c})))}),[t,c]);return Object(n.jsxs)("div",{className:r.wrapper,children:[Object(n.jsx)("div",{className:r.header,children:Object(n.jsx)("h2",{children:"Cart"})}),Object(n.jsxs)("div",{className:r.body,children:[Object(n.jsxs)("div",{className:"head",children:[Object(n.jsx)("span",{className:"no",children:"No"}),Object(n.jsx)("span",{className:"name",children:"Product name"})]}),t.map((function(e,t){var c;return Object(n.jsxs)("div",{className:r.product,children:[Object(n.jsx)("span",{className:"no",children:t+1}),Object(n.jsx)("span",{className:"name",children:null===(c=j(e.productId))||void 0===c?void 0:c.name}),Object(n.jsx)(w.a,{className:"action",variant:"contained",onClick:function(){return p(t)},children:"Remove"})]},t)}))]}),Object(n.jsxs)("div",{className:r.footer,children:[Object(n.jsx)("span",{className:"label",children:"Total price:"}),Object(n.jsx)("span",{className:"price",children:d})]})]})};R.defaultProps={products:[],setProducts:function(){}};var A=R,E=c(54),T=Object(S.a)({wrapper:{padding:"30px 20px",backgroundColor:"#fafafa"},header:{"& h2":{margin:0}},body:{padding:"0 15px"},product:{padding:"10px 15px",margin:"10px 0",border:"1px solid #c2b9b9",borderRadius:10,"& .row":{display:"flex"},"& .name":{flex:1,margin:"10px 0","& h3":{margin:0}},"& .price":{},"& .actions":{flex:1,textAlign:"right","& button":{fontSize:9,padding:"3px 10px",marginLeft:5}}}}),B=c(107),z=Object(S.a)({swipeableDrawer:{"& .MuiDrawer-paperAnchorTop":{maxHeight:"80%",width:500,maxWidth:"90%",top:"10%",margin:"auto",overflow:"auto",borderRadius:10}},viewer:{padding:"30px 15px",display:"flex",flexDirection:"column"},header:{textAlign:"center",marginBottom:10,"& h3":{margin:0}},body:{padding:"0 20px","& .form-control":{display:"flex",margin:"10px 0","& .name":{marginTop:3,display:"block"},"& .offer":{display:"flex",alignItems:"center",overflow:"hidden",flexWrap:"wrap","& input":{flex:1,minWidth:50},"& span":{marginRight:10},"& .alert":{width:"100%",color:"red"}},"& label":{marginRight:5,marginTop:3},"& input":{display:"block",height:25,padding:"6px 12px",fontSize:14,lineHeight:1.4,marginRight:10,border:"1px solid #ccc",borderRadius:4,boxShadow:"inset 0 1px 1px rgba(0,0,0,.075)",transition:"border-color ease-in-out .15s,box-shadow ease-in-out .15s"}}},footer:{textAlign:"right","& button":{marginRight:10}}}),D=function(e){var t=e.isOpen,c=e.closePanel,r=e.product,i=z(),o=k(),s=Object(a.useState)(!1),d=Object(v.a)(s,2),l=d[0],j=d[1],p=Object(a.useState)(0),b=Object(v.a)(p,2),f=b[0],h=b[1],x=Object(a.useState)({}),O=Object(v.a)(x,2),m=O[0],g=O[1],N=Object(a.useState)({}),y=Object(v.a)(N,2),P=y[0],C=y[1],S=Object(a.useState)(!0),I=Object(v.a)(S,2),R=I[0],A=I[1];Object(a.useEffect)((function(){j(t)}),[t]),Object(a.useEffect)((function(){var e,t;h(r.price||0),g((null===(e=r.offer)||void 0===e?void 0:e.count)||0),C((null===(t=r.offer)||void 0===t?void 0:t.price)||0)}),[r]),Object(a.useEffect)((function(){A(0===P&&0===m||P<f*m&&P>f*(m-1))}),[f,P,m]);var E=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&(e||c())}},T=Object(a.useCallback)((function(){if(R){var e=m?{count:m,price:P}:void 0;o(Object(u.a)(Object(u.a)({},r),{},{price:f,offer:e})),c()}}),[f,r,o,c,m,P,R]);return Object(n.jsx)("div",{children:Object(n.jsx)(B.a,{anchor:"top",open:l,onOpen:E(!0),onClose:E(!1),className:i.swipeableDrawer,children:Object(n.jsxs)("div",{className:i.viewer,role:"presentation",children:[Object(n.jsx)("div",{className:i.header,children:Object(n.jsx)("h3",{children:"Product Editor"})}),Object(n.jsxs)("div",{className:i.body,children:[Object(n.jsxs)("div",{className:"form-control",children:[Object(n.jsx)("label",{children:"Name: "}),Object(n.jsx)("span",{className:"name",children:r.name})]}),Object(n.jsxs)("div",{className:"form-control",children:[Object(n.jsx)("label",{children:"Price: "}),Object(n.jsx)("input",{type:"number",value:f,onChange:function(e){return h(parseFloat(e.target.value))}})]}),Object(n.jsxs)("div",{className:"form-control",children:[Object(n.jsx)("label",{children:"Offer: "}),Object(n.jsxs)("div",{className:"offer",children:[Object(n.jsx)("input",{type:"number",value:m,onChange:function(e){return g(parseFloat(e.target.value))}}),Object(n.jsx)("span",{children:"for"}),Object(n.jsx)("input",{type:"number",value:P,onChange:function(e){return C(parseFloat(e.target.value))}}),!R&&Object(n.jsxs)("div",{className:"alert",children:["Cannot offer ",m||0," for ",P||0]})]})]})]}),Object(n.jsxs)("div",{className:i.footer,children:[Object(n.jsx)(w.a,{variant:"contained",color:"primary",onClick:T,children:"Save"}),Object(n.jsx)(w.a,{variant:"contained",onClick:c,children:"Cancel"})]})]})})})};D.defaultProps={isOpen:!1,closePanel:function(){},product:{}};var F=D,W=function(e){var t=e.boughtProducts,c=e.setBoughtProducts,r=T(),i=C(),o=Object(a.useState)(null),s=Object(v.a)(o,2),d=s[0],l=s[1],u=Object(a.useCallback)((function(e){c([].concat(Object(E.a)(t),[{productId:e.id}]))}),[t,c]);return Object(n.jsxs)("div",{className:r.wrapper,children:[Object(n.jsx)("div",{className:r.header,children:Object(n.jsx)("h2",{children:"All Products"})}),Object(n.jsx)("div",{className:r.body,children:i.map((function(e,t){return Object(n.jsxs)("div",{className:r.product,children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"name",children:Object(n.jsx)("h3",{children:e.name})}),Object(n.jsxs)("div",{className:"price",children:[Object(n.jsx)("span",{className:"label",children:"Price: "}),Object(n.jsx)("span",{className:"content",children:e.price})]})]}),Object(n.jsxs)("div",{className:"row",children:[e.offer&&Object(n.jsx)("div",{className:"desc",children:Object(n.jsxs)("span",{children:[e.name,"s are ",e.price," each or ",e.offer.count," for ",e.offer.price]})}),Object(n.jsxs)("div",{className:"actions",children:[Object(n.jsx)(w.a,{variant:"contained",color:"primary",onClick:function(){return u(e)},children:"Add To Cart"}),Object(n.jsx)(w.a,{variant:"contained",color:"primary",onClick:function(){return l(t+1)},children:"Edit Product"})]})]})]},e.id)}))}),Object(n.jsx)(F,{isOpen:Boolean(d),closePanel:function(){return l(null)},product:i[d-1]})]})};W.defaultProps={boughtProducts:[],setBoughtProducts:function(){}};var L=W,H=[{productId:1},{productId:2},{productId:4},{productId:2},{productId:3},{productId:1}],J=function(){var e=Object(a.useState)(H),t=Object(v.a)(e,2),c=t[0],r=t[1];return Object(n.jsx)(y.a,{children:Object(n.jsxs)(N.a,{container:!0,spacing:3,children:[Object(n.jsx)(N.a,{item:!0,xs:8,children:Object(n.jsx)(L,{boughtProducts:c,setBoughtProducts:r})}),Object(n.jsx)(N.a,{item:!0,xs:4,children:Object(n.jsx)(A,{products:c,setProducts:r})})]})})},M=function(){return Object(n.jsx)(m.a,{history:f,children:Object(n.jsxs)(g.d,{children:[Object(n.jsx)(g.b,{exact:!0,path:"/",children:Object(n.jsx)(g.a,{to:"/checkout"})}),Object(n.jsx)(g.b,{exact:!0,path:"/checkout",component:J})]})})};var U=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(O.a,{}),Object(n.jsx)(M,{})]})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,110)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(n.jsx)(o.a,{store:x,children:Object(n.jsx)(U,{})}),document.getElementById("root")),K()}},[[75,1,2]]]);
//# sourceMappingURL=main.bfcec5e2.chunk.js.map